<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="base.css" >
	<title>Macros</title>
</head>

<body>
	<h1>Macros</h1>

	<p>
		All directory paths may contain macros that are expanded during
		synchronization. The beginnings and ends of each macro are marked by a <b>%</b> character. In addition to special macros
		handling time and date, the <b>operating system's environment variables</b> may also be used.
		<br><br>
	</p>

	<h2>Internal macros</h2>

	<div class="greybox">
		<table style="border-spacing:0;">
			<tr>
				<th>Macro</th>
				<th>Example</th>
			</tr>
			<tr>
				<td><span class="command-line">%date%</span></td>
				<td><span class="file-path">2016-12-31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>format: [YYYY-MM-DD]</td>
			</tr>
			<tr>
				<td><span class="command-line">%time%</span></td>
				<td><span class="file-path">112233&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>format: [hhmmss]</td>
			</tr>
			<tr>
				<td><span class="command-line">%timestamp%</span></td>
				<td><span class="file-path">2016-12-31 112233&nbsp;</span>format: [YYYY-MM-DD hhmmss]</td>
			</tr>
			<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
			<tr>
				<td><span class="command-line">%year%</span></td>
				<td><span class="file-path">2016</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%month%</span></td>
				<td><span class="file-path">12</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%day%</span></td>
				<td><span class="file-path">31</span></td>
			</tr>
			<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
			<tr>
				<td><span class="command-line">%hour%</span></td>
				<td><span class="file-path">11</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%min%</span></td>
				<td><span class="file-path">22</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%sec%</span></td>
				<td><span class="file-path">33</span></td>
			</tr>
			<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
			<tr>
				<td><span class="command-line">%weekday%</span></td>
				<td><span class="file-path">Monday&nbsp;</span>(day of the week)</td>
			</tr>

			<tr>
				<td><span class="command-line">%week%</span></td>
				<td><span class="file-path">52&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>(calendar week)</td>
			</tr>
		</table>
	</div>
	<br>

	<h2>Environment variables<span style="font-weight: normal"> (Windows)</span></h2>

	<div class="greybox">
		<table style="border-spacing:0;">
			<tr>
				<th>Macro</th>
				<th>Example</th>
			</tr>
			<tr>
				<td><span class="command-line">%AllUsersProfile%</span></td>
				<td><span class="file-path">C:\ProgramData</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%AppData%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%ComputerName%</span></td>
				<td><span class="file-path">Zenju-PC</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%LocalAppData%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Local</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%ProgramData%</span></td>
				<td><span class="file-path">C:\ProgramData</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%ProgramFiles%</span></td>
				<td><span class="file-path">C:\Program Files</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%ProgramFiles(x86)%</span></td>
				<td><span class="file-path">C:\Program Files (x86)</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%Public%</span></td>
				<td><span class="file-path">C:\Users\Public</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%Temp%</span></td>
				<td><span class="file-path">C:\Windows\Temp</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%UserName%</span></td>
				<td><span class="file-path">Zenju</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%UserProfile%</span></td>
				<td><span class="file-path">C:\Users\Zenju</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%WinDir%</span></td>
				<td><span class="file-path">C:\Windows</span></td>
			</tr>
		</table>
	</div>
	<br>

	<h2>Special folder locations<span style="font-weight: normal"> (Windows)</span></h2>

	<div class="greybox">
		<table style="border-spacing:0;">
			<tr>
				<th>Macro</th>
				<th>Example</th>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Desktop%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Desktop</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Documents%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Documents</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Pictures%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Pictures</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Music%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Music</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Videos%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Videos</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Downloads%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Downloads</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Favorites%</span></td>
				<td><span class="file-path">C:\Users\Zenju\Favorites</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Resources%</span></td>
				<td><span class="file-path">C:\Windows\Resources</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Quicklaunch%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming\Microsoft\Internet Explorer\Quick Launch</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_StartMenu%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming\Microsoft\Windows\Start Menu</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Programs%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming\Microsoft\Windows\Start Menu\Programs</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Startup%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\StartUp</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Nethood%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming\Microsoft\Windows\Network Shortcuts</span></td>
			</tr>
			<tr>
				<td><span class="command-line">%csidl_Templates%</span></td>
				<td><span class="file-path">C:\Users\Zenju\AppData\Roaming\Microsoft\Windows\Templates</span></td>
			</tr>
		</table>

		<p>
			<b>Note:</b> Most macros listed here also have a variant for public folders, e.g.
			<span class="command-line">%csidl_Documents%</span> has <span class="command-line">%csidl_PublicDocuments%</span>.
		</p>
	</div>
	<br>

	<p>
		<b>Hint:</b> You can add a flexibility to an ffs_batch configuration file
		 by creating new temporary environment variables in a bat or cmd file that are evaluated by FreeFileSync at runtime:
		<br><br>
	</p>

	<h2>Example:</h2>
	<p>
		The FreeFileSync batch file <span class="file-path">C:\SyncJob.ffs_batch</span> contains
		macro <span class="command-line">%MyVar%</span> instead of an absolute target folder and is invoked by a cmd file:
	</p>

	<div class="greybox">
		<div class="command-line">set MyVar=C:\Target<br>
			&quot;C:\Program files\FreeFileSync\FreeFileSync.exe&quot; C:\SyncJob.ffs_batch<br>
			<div class="command-line-comment">::%MyVar% is resolved as C:\Target during synchronization</div>
		</div>
	</div>
	<br>

	<div class="bluebox">
		<b>Note</b><br>
		Temporary environment variables created with the <span class="command-line">set</span> command are only valid if the synchronization is started by calling the
		FreeFileSync executable directly. Using <span class="command-line">start /wait</span> would create a new program context without these temporary variables.
	</div>
</body>
</html>
