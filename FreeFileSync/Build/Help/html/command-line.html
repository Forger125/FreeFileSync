<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="base.css" >
	<title>Command Line Usage</title>
</head>

<body>
	<h1>Command Line Usage</h1>

	<p>
		FreeFileSync supports additional synchronization scenarios via a command line interface.
		To get a syntax overview, open the console, go to the directory where FreeFileSync is installed and type:
	</p>

	<div class="greybox">
		<span class="command-line">FreeFileSync.exe -h</span> <span style="margin: 0 40px">or</span> <span class="command-line">FreeFileSync.exe --help</span>
	</div>

	<br>
	<img src="../images/command-line-syntax.png" alt="Command line syntax">
	<br><br>

	<h2>1. Run a FreeFileSync batch job</h2>
	<p>
		In order to start synchronization in batch mode, supply the path of a ffs_batch configuration file as the first argument for FreeFileSync.exe:
	</p>

	<div class="greybox">
		<div class="command-line">FreeFileSync.exe &quot;D:\Backup Projects.ffs_batch&quot;</div>
	</div>

	<p>After synchronization one of the following status codes is returned:</p>

	<div class="greybox">
		<b>Return Codes</b><br>
		0 - Synchronization completed successfully<br>
		1 - Synchronization completed with warnings<br>
		2 - Synchronization completed with errors<br>
		3 - Synchronization was aborted
	</div>

	<p>
		You can evaluate these codes from a script (e.g. a cmd or bat file on Windows)
		and check if synchronization completed successfully:
	</p>

	<div class="greybox">
		<div class="command-line">
			&quot;C:\Program Files\FreeFileSync\FreeFileSync.exe&quot; &quot;D:\Backup Projects.ffs_batch&quot;<br>
			if errorlevel 1 (<br>
				&nbsp;&nbsp;<span class="command-line-comment">::if return code is 1 or greater, something went wrong, add special treatment here</span><br>
				&nbsp;&nbsp;echo Errors occurred during synchronization...<br>
				&nbsp;&nbsp;pause<br>
			)
		</div>
	</div>

	<p>Instead of showing an error message, you can also send an email notification (using a third party tool).</p>

	<div class="bluebox">
		<b>Attention</b><br>
		If you are running the batch job unattended, make sure your script is not blocked showing a notification dialog. Consider the
		following options when setting up the FreeFileSync batch job:
		<div class="half-line">&nbsp;</div>

		<ul style="margin: 0">
			<li>Set <i>When finished</i> to <b>Exit</b> to skip the summary dialog after synchronization.
			<li>Set up error handling to <b>Ignore errors</b> or <b>Cancel</b> to stop the synchronization at the first error.
		</ul>
	</div>
	<br>

	<h2>2. Start a FreeFileSync GUI configuration</h2>
	<p>
		If you pass a ffs_gui file, FreeFileSync will start in GUI mode and immediately start comparison (but only if all directories exist):
	</p>

	<div class="greybox">
		<div class="command-line">FreeFileSync.exe &quot;D:\Manual Backup.ffs_gui&quot;</div>
	</div>
	<br>

	<h2>3. Customize an existing configuration</h2>
	<p>
		You can replace the directories of a given ffs_gui or ffs_batch configuration file by using the <span class="command-line">-DirPair</span> parameter:
	</p>

	<div class="greybox">
		<div class="command-line">FreeFileSync.exe &quot;D:\Manual Backup.ffs_gui&quot; -dirpair C:\NewSource D:\NewTarget</div>
	</div>
	<br>

	<h2>4. Merge multiple configurations</h2>
	<p>
		When more than one configuration file is provided, FreeFileSync will merge
		everything into a single configuration with multiple folder pairs and start in GUI mode:
	</p>

	<div class="greybox">
		<div class="command-line">FreeFileSync.exe &quot;D:\Manual Backup.ffs_gui&quot; &quot;D:\Backup Projects.ffs_batch&quot;</div>
	</div>
	<br>


	<h2>5. Use a different GlobalSettings.xml file</h2>
	<p>
		By default, FreeFileSync uses a single GlobalSettings.xml file containing options that apply to all synchronization tasks;
		for examples see <a href="expert-settings.html">Expert Settings</a>.
		If you want FreeFileSync to use a different settings file instead, you can specify the path via command line:
	</p>

	<div class="greybox">
		<div class="command-line">FreeFileSync.exe &quot;D:\My GlobalSettings.xml&quot;</div>
	</div>
</body>
</html>
